{"version":3,"sources":["../src/index.ts"],"sourcesContent":["import {\n  camel,\n  ClientBuilder,\n  ClientDependenciesBuilder,\n  ClientGeneratorsBuilder,\n  ClientHeaderBuilder,\n  generateFormDataAndUrlEncodedFunction,\n  generateMutatorConfig,\n  generateMutatorRequestOptions,\n  generateOptions,\n  generateVerbImports,\n  GeneratorDependency,\n  GeneratorMutator,\n  GeneratorOptions,\n  GeneratorVerbOptions,\n  GetterParams,\n  GetterProp,\n  GetterProps,\n  GetterPropType,\n  GetterResponse,\n  isSyntheticDefaultImportsAllow,\n  pascal,\n  stringify,\n  toObjectString,\n  Verbs,\n  VERBS_WITH_BODY,\n  jsDoc,\n  SwrOptions,\n} from '@orval/core';\n\nconst AXIOS_DEPENDENCIES: GeneratorDependency[] = [\n  {\n    exports: [\n      {\n        name: 'axios',\n        default: true,\n        values: true,\n        syntheticDefaultImport: true,\n      },\n      { name: 'AxiosRequestConfig' },\n      { name: 'AxiosResponse' },\n      { name: 'AxiosError' },\n    ],\n    dependency: 'axios',\n  },\n];\n\nconst PARAMS_SERIALIZER_DEPENDENCIES: GeneratorDependency[] = [\n  {\n    exports: [\n      {\n        name: 'qs',\n        default: true,\n        values: true,\n        syntheticDefaultImport: true,\n      },\n    ],\n    dependency: 'qs',\n  },\n];\n\nconst SWR_DEPENDENCIES: GeneratorDependency[] = [\n  {\n    exports: [\n      { name: 'useSwr', values: true, default: true },\n      { name: 'SWRConfiguration' },\n      { name: 'Key' },\n      { name: 'Arguments' },\n    ],\n    dependency: 'swr',\n  },\n];\n\nconst SWR_INFINITE_DEPENDENCIES: GeneratorDependency[] = [\n  {\n    exports: [\n      { name: 'useSWRInfinite', values: true, default: true },\n      { name: 'SWRInfiniteConfiguration' },\n      { name: 'SWRInfiniteKeyLoader' },\n    ],\n    dependency: 'swr/infinite',\n  },\n];\n\nconst SWR_MUTATION_DEPENDENCIES: GeneratorDependency[] = [\n  {\n    exports: [\n      { name: 'useSWRMutation', values: true, default: true },\n      { name: 'SWRMutationConfiguration' },\n      { name: 'SWRMutationKey' },\n    ],\n    dependency: 'swr/mutation',\n  },\n];\n\nexport const getSwrDependencies: ClientDependenciesBuilder = (\n  hasGlobalMutator: boolean,\n  hasParamsSerializerOptions: boolean,\n) => [\n  ...(!hasGlobalMutator ? AXIOS_DEPENDENCIES : []),\n  ...(hasParamsSerializerOptions ? PARAMS_SERIALIZER_DEPENDENCIES : []),\n  ...SWR_DEPENDENCIES,\n  ...SWR_INFINITE_DEPENDENCIES,\n  ...SWR_MUTATION_DEPENDENCIES,\n];\n\nconst generateSwrRequestFunction = (\n  {\n    headers,\n    queryParams,\n    operationName,\n    response,\n    mutator,\n    body,\n    props,\n    verb,\n    formData,\n    formUrlEncoded,\n    override,\n    paramsSerializer,\n  }: GeneratorVerbOptions,\n  { route, context }: GeneratorOptions,\n) => {\n  const isRequestOptions = override?.requestOptions !== false;\n  const isFormData = override?.formData !== false;\n  const isFormUrlEncoded = override?.formUrlEncoded !== false;\n  const isExactOptionalPropertyTypes =\n    !!context.output.tsconfig?.compilerOptions?.exactOptionalPropertyTypes;\n  const isBodyVerb = VERBS_WITH_BODY.includes(verb);\n  const isSyntheticDefaultImportsAllowed = isSyntheticDefaultImportsAllow(\n    context.output.tsconfig,\n  );\n\n  const bodyForm = generateFormDataAndUrlEncodedFunction({\n    formData,\n    formUrlEncoded,\n    body,\n    isFormData,\n    isFormUrlEncoded,\n  });\n\n  if (mutator) {\n    const mutatorConfig = generateMutatorConfig({\n      route,\n      body,\n      headers,\n      queryParams,\n      response,\n      verb,\n      isFormData,\n      isFormUrlEncoded,\n      hasSignal: false,\n      isBodyVerb,\n      isExactOptionalPropertyTypes,\n    });\n\n    const propsImplementation =\n      mutator?.bodyTypeName && body.definition\n        ? toObjectString(props, 'implementation').replace(\n            new RegExp(`(\\\\w*):\\\\s?${body.definition}`),\n            `$1: ${mutator.bodyTypeName}<${body.definition}>`,\n          )\n        : toObjectString(props, 'implementation');\n\n    const requestOptions = isRequestOptions\n      ? generateMutatorRequestOptions(\n          override?.requestOptions,\n          mutator.hasSecondArg,\n        )\n      : '';\n\n    return `export const ${operationName} = (\\n    ${propsImplementation}\\n ${\n      isRequestOptions && mutator.hasSecondArg\n        ? `options${context.output.optionsParamRequired ? '' : '?'}: SecondParameter<typeof ${mutator.name}>`\n        : ''\n    }) => {${bodyForm}\n      return ${mutator.name}<${response.definition.success || 'unknown'}>(\n      ${mutatorConfig},\n      ${requestOptions});\n    }\n  `;\n  }\n\n  const options = generateOptions({\n    route,\n    body,\n    headers,\n    queryParams,\n    response,\n    verb,\n    requestOptions: override?.requestOptions,\n    isFormData,\n    isFormUrlEncoded,\n    paramsSerializer,\n    paramsSerializerOptions: override?.paramsSerializerOptions,\n    isExactOptionalPropertyTypes,\n    hasSignal: false,\n  });\n\n  return `export const ${operationName} = (\\n    ${toObjectString(\n    props,\n    'implementation',\n  )} ${\n    isRequestOptions ? `options?: AxiosRequestConfig\\n` : ''\n  } ): Promise<AxiosResponse<${\n    response.definition.success || 'unknown'\n  }>> => {${bodyForm}\n    return axios${\n      !isSyntheticDefaultImportsAllowed ? '.default' : ''\n    }.${verb}(${options});\n  }\n`;\n};\n\nconst generateSwrArguments = ({\n  operationName,\n  mutator,\n  isRequestOptions,\n  isInfinite,\n}: {\n  operationName: string;\n  mutator?: GeneratorMutator;\n  isRequestOptions: boolean;\n  isInfinite: boolean;\n}) => {\n  const configType = isInfinite\n    ? 'SWRInfiniteConfiguration'\n    : 'SWRConfiguration';\n  const optionsType = isInfinite\n    ? '{ swrKeyLoader?: SWRInfiniteKeyLoader, enabled?: boolean }'\n    : '{ swrKey?: Key, enabled?: boolean }';\n  const definition = `${configType}<Awaited<ReturnType<typeof ${operationName}>>, TError> & ${optionsType}`;\n\n  if (!isRequestOptions) {\n    return `swrOptions?: ${definition}`;\n  }\n\n  return `options?: { swr?:${definition}, ${\n    !mutator\n      ? `axios?: AxiosRequestConfig`\n      : mutator?.hasSecondArg\n        ? `request?: SecondParameter<typeof ${mutator.name}>`\n        : ''\n  } }\\n`;\n};\n\nconst generateSwrMutationArguments = ({\n  operationName,\n  isRequestOptions,\n  mutator,\n  swrBodyType,\n}: {\n  operationName: string;\n  isRequestOptions: boolean;\n  mutator?: GeneratorMutator;\n  swrBodyType: string;\n}) => {\n  const definition = `SWRMutationConfiguration<Awaited<ReturnType<typeof ${operationName}>>, TError, string, ${swrBodyType}, Awaited<ReturnType<typeof ${operationName}>>> & { swrKey?: string }`;\n\n  if (!isRequestOptions) {\n    return `swrOptions?: ${definition}`;\n  }\n\n  return `options?: { swr?:${definition}, ${\n    !mutator\n      ? `axios?: AxiosRequestConfig`\n      : mutator?.hasSecondArg\n        ? `request?: SecondParameter<typeof ${mutator.name}>`\n        : ''\n  } }\\n`;\n};\n\nconst generateSwrImplementation = ({\n  operationName,\n  swrKeyFnName,\n  swrKeyLoaderFnName,\n  swrProperties,\n  swrKeyProperties,\n  params,\n  mutator,\n  isRequestOptions,\n  response,\n  swrOptions,\n  props,\n  doc,\n}: {\n  isRequestOptions: boolean;\n  operationName: string;\n  swrKeyFnName: string;\n  swrKeyLoaderFnName: string;\n  swrProperties: string;\n  swrKeyProperties: string;\n  params: GetterParams;\n  props: GetterProps;\n  response: GetterResponse;\n  mutator?: GeneratorMutator;\n  swrOptions: SwrOptions;\n  doc?: string;\n}) => {\n  const swrProps = toObjectString(props, 'implementation');\n\n  const hasParamReservedWord = props.some(\n    (prop: GetterProp) => prop.name === 'query',\n  );\n  const queryResultVarName = hasParamReservedWord ? '_query' : 'query';\n\n  const httpFunctionProps = swrProperties;\n\n  const enabledImplementation = `const isEnabled = swrOptions?.enabled !== false${\n    params.length\n      ? ` && !!(${params.map(({ name }) => name).join(' && ')})`\n      : ''\n  }`;\n  const swrKeyImplementation = `const swrKey = swrOptions?.swrKey ?? (() => isEnabled ? ${swrKeyFnName}(${swrKeyProperties}) : null);`;\n  const swrKeyLoaderImplementation = `const swrKeyLoader = swrOptions?.swrKeyLoader ?? (() => isEnabled ? ${swrKeyLoaderFnName}(${swrKeyProperties}) : null);`;\n\n  let errorType = `AxiosError<${response.definition.errors || 'unknown'}>`;\n\n  if (mutator) {\n    errorType = mutator.hasErrorType\n      ? `ErrorType<${response.definition.errors || 'unknown'}>`\n      : response.definition.errors || 'unknown';\n  }\n\n  const useSWRInfiniteImplementation = swrOptions.useInfinite\n    ? `\nexport type ${pascal(\n        operationName,\n      )}InfiniteQueryResult = NonNullable<Awaited<ReturnType<typeof ${operationName}>>>\nexport type ${pascal(operationName)}InfiniteError = ${errorType}\n\n${doc}export const ${camel(\n        `use-${operationName}-infinite`,\n      )} = <TError = ${errorType}>(\n  ${swrProps} ${generateSwrArguments({\n    operationName,\n    mutator,\n    isRequestOptions,\n    isInfinite: true,\n  })}) => {\n  ${\n    isRequestOptions\n      ? `const {swr: swrOptions${\n          !mutator\n            ? `, axios: axiosOptions`\n            : mutator?.hasSecondArg\n              ? ', request: requestOptions'\n              : ''\n        }} = options ?? {}`\n      : ''\n  }\n\n  ${enabledImplementation}\n  ${swrKeyLoaderImplementation}\n  const swrFn = () => ${operationName}(${httpFunctionProps}${\n    httpFunctionProps ? ', ' : ''\n  }${\n    isRequestOptions\n      ? !mutator\n        ? `axiosOptions`\n        : mutator?.hasSecondArg\n          ? 'requestOptions'\n          : ''\n      : ''\n  });\n\n  const ${queryResultVarName} = useSWRInfinite<Awaited<ReturnType<typeof swrFn>>, TError>(swrKeyLoader, swrFn, ${\n    swrOptions.swrInfiniteOptions\n      ? `{\n    ${stringify(swrOptions.swrInfiniteOptions)?.slice(1, -1)}\n    ...swrOptions\n  }`\n      : 'swrOptions'\n  })\n\n  return {\n    swrKeyLoader,\n    ...${queryResultVarName}\n  }\n}\\n`\n    : '';\n\n  const useSwrImplementation = `\nexport type ${pascal(\n    operationName,\n  )}QueryResult = NonNullable<Awaited<ReturnType<typeof ${operationName}>>>\nexport type ${pascal(operationName)}QueryError = ${errorType}\n\n${doc}export const ${camel(`use-${operationName}`)} = <TError = ${errorType}>(\n  ${swrProps} ${generateSwrArguments({\n    operationName,\n    mutator,\n    isRequestOptions,\n    isInfinite: false,\n  })}) => {\n  ${\n    isRequestOptions\n      ? `const {swr: swrOptions${\n          !mutator\n            ? `, axios: axiosOptions`\n            : mutator?.hasSecondArg\n              ? ', request: requestOptions'\n              : ''\n        }} = options ?? {}`\n      : ''\n  }\n\n  ${enabledImplementation}\n  ${swrKeyImplementation}\n  const swrFn = () => ${operationName}(${httpFunctionProps}${\n    httpFunctionProps ? ', ' : ''\n  }${\n    isRequestOptions\n      ? !mutator\n        ? `axiosOptions`\n        : mutator?.hasSecondArg\n          ? 'requestOptions'\n          : ''\n      : ''\n  });\n\n  const ${queryResultVarName} = useSwr<Awaited<ReturnType<typeof swrFn>>, TError>(swrKey, swrFn, ${\n    swrOptions.swrOptions\n      ? `{\n    ${stringify(swrOptions.swrOptions)?.slice(1, -1)}\n    ...swrOptions\n  }`\n      : 'swrOptions'\n  })\n\n  return {\n    swrKey,\n    ...${queryResultVarName}\n  }\n}\\n`;\n\n  return useSWRInfiniteImplementation + useSwrImplementation;\n};\n\nconst generateSwrMutationImplementation = ({\n  isRequestOptions,\n  operationName,\n  swrKeyFnName,\n  swrMutationFetcherName,\n  swrKeyProperties,\n  swrMutationFetcherProperties,\n  swrProps,\n  props,\n  response,\n  mutator,\n  swrOptions,\n  doc,\n  swrBodyType,\n}: {\n  isRequestOptions: boolean;\n  operationName: string;\n  swrKeyFnName: string;\n  swrMutationFetcherName: string;\n  swrKeyProperties: string;\n  swrMutationFetcherProperties: string;\n  swrProps: string;\n  props: GetterProps;\n  response: GetterResponse;\n  mutator?: GeneratorMutator;\n  swrOptions: SwrOptions;\n  doc?: string;\n  swrBodyType: string;\n}) => {\n  const hasParamReservedWord = props.some(\n    (prop: GetterProp) => prop.name === 'query',\n  );\n  const queryResultVarName = hasParamReservedWord ? '_query' : 'query';\n\n  const swrKeyImplementation = `const swrKey = swrOptions?.swrKey ?? ${swrKeyFnName}(${swrKeyProperties});`;\n\n  let errorType = `AxiosError<${response.definition.errors || 'unknown'}>`;\n\n  if (mutator) {\n    errorType = mutator.hasErrorType\n      ? `ErrorType<${response.definition.errors || 'unknown'}>`\n      : response.definition.errors || 'unknown';\n  }\n\n  const useSwrImplementation = `\nexport type ${pascal(\n    operationName,\n  )}MutationResult = NonNullable<Awaited<ReturnType<typeof ${operationName}>>>\nexport type ${pascal(operationName)}MutationError = ${errorType}\n\n${doc}export const ${camel(`use-${operationName}`)} = <TError = ${errorType}>(\n  ${swrProps} ${generateSwrMutationArguments({\n    operationName,\n    isRequestOptions,\n    mutator,\n    swrBodyType,\n  })}) => {\n\n  ${\n    isRequestOptions\n      ? `const {swr: swrOptions${\n          !mutator\n            ? `, axios: axiosOptions`\n            : mutator?.hasSecondArg\n              ? ', request: requestOptions'\n              : ''\n        }} = options ?? {}`\n      : ''\n  }\n\n  ${swrKeyImplementation}\n  const swrFn = ${swrMutationFetcherName}(${swrMutationFetcherProperties}${\n    swrMutationFetcherProperties && isRequestOptions ? ',' : ''\n  }${\n    isRequestOptions\n      ? !mutator\n        ? `axiosOptions`\n        : mutator?.hasSecondArg\n          ? 'requestOptions'\n          : ''\n      : ''\n  });\n\n  const ${queryResultVarName} = useSWRMutation(swrKey, swrFn, ${\n    swrOptions.swrMutationOptions\n      ? `{\n    ${stringify(swrOptions.swrMutationOptions)?.slice(1, -1)}\n    ...swrOptions\n  }`\n      : 'swrOptions'\n  })\n\n  return {\n    swrKey,\n    ...${queryResultVarName}\n  }\n}\\n`;\n\n  return useSwrImplementation;\n};\n\nconst generateSwrHook = (\n  {\n    queryParams,\n    operationName,\n    body,\n    props,\n    verb,\n    params,\n    override,\n    mutator,\n    response,\n    summary,\n    deprecated,\n  }: GeneratorVerbOptions,\n  { route, context }: GeneratorOptions,\n) => {\n  const isRequestOptions = override?.requestOptions !== false;\n  const doc = jsDoc({ summary, deprecated });\n\n  if (verb === Verbs.GET) {\n    const swrKeyProperties = props\n      .filter((prop) => prop.type !== GetterPropType.HEADER)\n      .map((param) => {\n        if (param.type === GetterPropType.NAMED_PATH_PARAMS)\n          return param.destructured;\n        return param.type === GetterPropType.BODY\n          ? body.implementation\n          : param.name;\n      })\n      .join(',');\n\n    const swrProperties = props\n      .map((param) => {\n        if (param.type === GetterPropType.NAMED_PATH_PARAMS)\n          return param.destructured;\n        return param.type === GetterPropType.BODY\n          ? body.implementation\n          : param.name;\n      })\n      .join(',');\n\n    const queryKeyProps = toObjectString(\n      props.filter((prop) => prop.type !== GetterPropType.HEADER),\n      'implementation',\n    );\n\n    const swrKeyFnName = camel(`get-${operationName}-key`);\n    const swrKeyFn = `\nexport const ${swrKeyFnName} = (${queryKeyProps}) => [\\`${route}\\`${\n      queryParams ? ', ...(params ? [params]: [])' : ''\n    }${body.implementation ? `, ${body.implementation}` : ''}] as const;\n\\n`;\n\n    const swrKeyLoaderFnName = camel(\n      `get-${operationName}-infinite-key-loader`,\n    );\n    const swrKeyLoader = override.swr.useInfinite\n      ? `export const ${swrKeyLoaderFnName} = (${queryKeyProps}) => {\n  return (_: number, previousPageData: Awaited<ReturnType<typeof ${operationName}>>) => {\n    if (previousPageData && !previousPageData.data) return null\n\n    return [\\`${route}\\`${queryParams ? ', ...(params ? [params]: [])' : ''}${\n      body.implementation ? `, ${body.implementation}` : ''\n    }] as const;\n  }\n}\\n`\n      : '';\n\n    const swrImplementation = generateSwrImplementation({\n      operationName,\n      swrKeyFnName,\n      swrKeyLoaderFnName,\n      swrProperties,\n      swrKeyProperties,\n      params,\n      props,\n      mutator,\n      isRequestOptions,\n      response,\n      swrOptions: override.swr,\n      doc,\n    });\n\n    return swrKeyFn + swrKeyLoader + swrImplementation;\n  } else {\n    const queryKeyProps = toObjectString(\n      props.filter(\n        (prop) =>\n          prop.type === GetterPropType.PARAM ||\n          prop.type === GetterPropType.NAMED_PATH_PARAMS,\n      ),\n      'implementation',\n    );\n\n    const swrProps = toObjectString(\n      props.filter(\n        (prop) =>\n          prop.type === GetterPropType.PARAM ||\n          prop.type === GetterPropType.QUERY_PARAM ||\n          prop.type === GetterPropType.NAMED_PATH_PARAMS,\n      ),\n      'implementation',\n    );\n\n    const swrMutationFetcherProperties = props\n      .filter(\n        (prop) =>\n          prop.type === GetterPropType.PARAM ||\n          prop.type === GetterPropType.QUERY_PARAM ||\n          prop.type === GetterPropType.NAMED_PATH_PARAMS,\n      )\n      .map((param) => {\n        if (param.type === GetterPropType.NAMED_PATH_PARAMS) {\n          return param.destructured;\n        } else {\n          return param.name;\n        }\n      })\n      .join(',');\n\n    const httpFnProperties = props\n      .filter((prop) => prop.type !== GetterPropType.HEADER)\n      .map((prop) => {\n        if (prop.type === GetterPropType.NAMED_PATH_PARAMS) {\n          return prop.destructured;\n        } else if (prop.type === GetterPropType.BODY) {\n          return `arg`;\n        } else {\n          return prop.name;\n        }\n      })\n      .join(', ');\n\n    const swrKeyProperties = props\n      .filter(\n        (prop) =>\n          prop.type === GetterPropType.PARAM ||\n          prop.type === GetterPropType.NAMED_PATH_PARAMS,\n      )\n      .map((prop) => {\n        if (prop.type === GetterPropType.NAMED_PATH_PARAMS) {\n          return prop.destructured;\n        } else {\n          return prop.name;\n        }\n      })\n      .join(',');\n\n    const swrKeyFnName = camel(`get-${operationName}-mutation-key`);\n    const swrMutationKeyFn = `export const ${swrKeyFnName} = (${queryKeyProps}) => \\`${route}\\` as const;\\n`;\n\n    const swrMutationFetcherName = camel(\n      `get-${operationName}-mutation-fetcher`,\n    );\n    const swrMutationFetcherType = mutator\n      ? `Promise<${response.definition.success || 'unknown'}>`\n      : `Promise<AxiosResponse<${response.definition.success || 'unknown'}>>`;\n    const swrMutationFetcherOptionType = !mutator\n      ? 'AxiosRequestConfig'\n      : mutator.hasSecondArg\n        ? `SecondParameter<typeof ${mutator.name}>`\n        : '';\n    const swrMutationFetcherOptions =\n      isRequestOptions && swrMutationFetcherOptionType\n        ? `options${context.output.optionsParamRequired ? '' : '?'}: ${swrMutationFetcherOptionType}`\n        : '';\n\n    const swrMutationFetcherArg = props.some(\n      (prop) => prop.type === GetterPropType.BODY,\n    )\n      ? '{ arg }'\n      : '__';\n\n    const swrBodyType =\n      props\n        .find((prop) => prop.type === GetterPropType.BODY)\n        ?.implementation.split(': ')[1] ?? 'Arguments';\n\n    const swrMutationFetcherFn = `\nexport const ${swrMutationFetcherName} = (${swrProps} ${swrMutationFetcherOptions}) => {\n  return (_: string, ${swrMutationFetcherArg}: { arg: ${swrBodyType} }): ${swrMutationFetcherType} => {\n    return ${operationName}(${httpFnProperties}${\n      swrMutationFetcherOptions.length\n        ? (httpFnProperties.length ? ', ' : '') + 'options'\n        : ''\n    });\n  }\n}\\n`;\n\n    const swrImplementation = generateSwrMutationImplementation({\n      operationName,\n      swrKeyFnName,\n      swrMutationFetcherName,\n      swrKeyProperties,\n      swrMutationFetcherProperties,\n      swrProps,\n      props,\n      isRequestOptions,\n      response,\n      mutator,\n      swrOptions: override.swr,\n      doc,\n      swrBodyType,\n    });\n\n    return swrMutationFetcherFn + swrMutationKeyFn + swrImplementation;\n  }\n};\n\nexport const generateSwrHeader: ClientHeaderBuilder = ({\n  isRequestOptions,\n  isMutator,\n  hasAwaitedType,\n}) =>\n  `\n  ${\n    !hasAwaitedType\n      ? `type AwaitedInput<T> = PromiseLike<T> | T;\\n\n      type Awaited<O> = O extends AwaitedInput<infer T> ? T : never;\\n\\n`\n      : ''\n  }\n  ${\n    isRequestOptions && isMutator\n      ? `type SecondParameter<T extends (...args: any) => any> = Parameters<T>[1];\\n\\n`\n      : ''\n  }`;\n\nexport const generateSwr: ClientBuilder = (verbOptions, options) => {\n  const imports = generateVerbImports(verbOptions);\n  const functionImplementation = generateSwrRequestFunction(\n    verbOptions,\n    options,\n  );\n  const hookImplementation = generateSwrHook(verbOptions, options);\n\n  return {\n    implementation: `${functionImplementation}\\n\\n${hookImplementation}`,\n    imports,\n  };\n};\n\nconst swrClientBuilder: ClientGeneratorsBuilder = {\n  client: generateSwr,\n  header: generateSwrHeader,\n  dependencies: getSwrDependencies,\n};\n\nexport const builder = () => () => swrClientBuilder;\n\nexport default builder;\n"],"mappings":"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","names":[]}